CREATE DATABASE COLOR4RIT;
USE COLOR4RIT;

CREATE TABLE MUSICA (
   `ID` INT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,
  `MÚSICA` BLOB,
  `NOME` VARCHAR(255),
  `AUTOR` VARCHAR(255)
);

CREATE TABLE NOTA (
  `ID` INT UNSIGNED,
  `FK_ID_MAPA` INT UNSIGNED,
  `COR` ENUM('VERMELHO', 'VERDE', 'AZUL'),
  `TEMPO` TIME,
  `FK_ID_MUSICA` INT UNSIGNED,
  FOREIGN KEY (`FK_ID_MAPA`) REFERENCES `MAPA`(`ID`),
  FOREIGN KEY (`FK_ID_MUSICA`) REFERENCES `MUSICA`(`id`)
);

CREATE TABLE MAPA (
  `ID` INT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,
  `DIFICULDADE` ENUM('FÁCIL', 'MÉDIO', 'DIFÍCIL'),
  `FK_ID_MUSICA` INT UNSIGNED,
  FOREIGN KEY (`FK_ID_MUSICA`) REFERENCES `MUSICA`(`id`)
);

CREATE TABLE PLACAR (
  `ID` INT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,
  `PONTUAÇÃO` INT,
  `FK_ID_JOGADOR` INT UNSIGNED,
  `FK_ID_MUSICA` INT UNSIGNED,
  FOREIGN KEY (`FK_ID_JOGADOR`) REFERENCES `JOGADOR`(`ID`),
  FOREIGN KEY (`FK_ID_MUSICA`) REFERENCES `MUSICA`(`id`)
);

CREATE TABLE SESSÃO (
  `ID` INT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,
  `FK_ID_MUSICA` INT UNSIGNED,
  `FK_ID_JOGADOR` INT UNSIGNED,
  FOREIGN KEY (`FK_ID_MUSICA`) REFERENCES `MUSICA`(`id`),
  FOREIGN KEY (`FK_ID_JOGADOR`) REFERENCES `JOGADOR`(`ID`)
);

CREATE TABLE JOGADOR (
  `ID` INT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,
  `NOME` VARCHAR(255),
  `LOGIN` VARCHAR(255),
  `SENHA` VARCHAR(255)
);
